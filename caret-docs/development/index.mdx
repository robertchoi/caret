# Caret ê°œë°œ ê°€ì´ë“œë¼ì¸

## 1. Fork ê¸°ë°˜ ì•„í‚¤í…ì²˜ ì›ì¹™

Caretì€ [Cline](https://github.com/cline/cline) í”„ë¡œì íŠ¸ì˜ **Fork**ë¡œ, Clineì˜ ì „ì²´ ì½”ë“œë² ì´ìŠ¤ë¥¼ `src/`, `webview-ui/` ë””ë ‰í† ë¦¬ì— ì§ì ‘ í¬í•¨í•˜ì—¬ ê°œë°œí•©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [Caret Fork ê¸°ë°˜ ì•„í‚¤í…ì²˜ ë¬¸ì„œ](./caret-architecture-and-implementation-guide.mdx)ë¥¼ ë°˜ë“œì‹œ ì°¸ê³ í•´ ì£¼ì„¸ìš”.

### 1.1 í•µì‹¬ ì›ì¹™

-   **Cline ì½”ë“œ ë³´ì¡´**: `src/`, `webview-ui/` ì›ë³¸ íŒŒì¼ì€ ê°€ëŠ¥í•œ ìˆ˜ì •í•˜ì§€ ì•ŠìŒ
-   **ìµœì†Œ ì§„ì…ì **: `caret-src/extension.ts`ë¥¼ í†µí•´ Cline ëª¨ë“ˆì„ í™œìš©í•˜ê³  í™•ì¥
-   **ì ì§„ì  í™•ì¥**: í•„ìš”í•œ ê¸°ëŠ¥ë§Œ Caret ì „ìš© ë””ë ‰í† ë¦¬ì—ì„œ êµ¬í˜„
-   **ì—…ìŠ¤íŠ¸ë¦¼ ë™ê¸°í™”**: Git mergeë¥¼ í†µí•´ Cline ìµœì‹  ë³€ê²½ì‚¬í•­ í†µí•©

## 2. ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
caret/
â”œâ”€â”€ src/                    # Cline ì›ë³¸ ì†ŒìŠ¤ (Forkë¡œ ì§ì ‘ í¬í•¨)
â”œâ”€â”€ webview-ui/            # Cline ì›ë³¸ ì›¹ë·° UI (Forkë¡œ ì§ì ‘ í¬í•¨)
â”œâ”€â”€ caret-src/             # Caret í™•ì¥ ë°±ì—”ë“œ ì½”ë“œ
â”‚   â”œâ”€â”€ extension.ts       # Caret ë©”ì¸ ì§„ì…ì 
â”‚   â”œâ”€â”€ core/             # Caret í•µì‹¬ ë¡œì§
â”‚   â”œâ”€â”€ shared/           # ì›¹ë·°-í™•ì¥ ê°„ ê³µìœ  íƒ€ì…
â”‚   â””â”€â”€ utils/            # Caret ìœ í‹¸ë¦¬í‹°
â”œâ”€â”€ webview-ui/src/caret/  # Caret ì „ìš© ì›¹ë·° ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ caret-assets/          # Caret ì „ìš© ë¦¬ì†ŒìŠ¤
â””â”€â”€ caret-docs/           # Caret ë¬¸ì„œ
```

### 2.1 Cline ì½”ë“œ í™œìš© ë°©ë²•

-   **ì§ì ‘ import**: `import { ClineProvider } from '../src/core/webview/WebviewProvider'`
-   **íƒ€ì… ì¬ì‚¬ìš©**: `import { ClineApiConfiguration } from '../src/shared/api'`
-   **ì„œë¹„ìŠ¤ í™•ì¥**: Clineì˜ ê¸°ì¡´ ì„œë¹„ìŠ¤ë¥¼ ìƒì†ë°›ì•„ í™•ì¥

## 3. ê°œë°œ í™˜ê²½ ì„¤ì • ë° ë¹Œë“œ

### 3.1 ë ˆíŒŒì§€í† ë¦¬ í´ë¡  ë° ì„¤ì •

```bash
# Caret ë ˆíŒŒì§€í† ë¦¬ í´ë¡ 
git clone https://github.com/aicoding-caret/caret.git
cd caret

# ì˜ì¡´ì„± ì„¤ì¹˜ (ë£¨íŠ¸ ë° webview-ui ëª¨ë‘)
npm install
cd webview-ui && npm install && cd ..
```

### 3.2 ê°œë°œ ë¹Œë“œ

**ì „ì²´ ì»´íŒŒì¼ (íƒ€ì… ê²€ì‚¬ ë° ë°±ì—”ë“œ ë²ˆë“¤ë§)**:

```bash
npm run compile
```

**ì›¹ë·° UI ë¹Œë“œ**:

```bash
npm run build:webview
```

**ê°œë°œ ëª¨ë“œ (ìë™ ë¦¬ë¹Œë“œ)**:

```bash
npm run watch        # ë°±ì—”ë“œ watch ëª¨ë“œ
npm run watch:webview # ì›¹ë·° watch ëª¨ë“œ (ë³„ë„ í„°ë¯¸ë„)
```

### 3.3 VSCodeì—ì„œ ì‹¤í–‰ ë° ë””ë²„ê¹…

1. Caret í”„ë¡œì íŠ¸ ë£¨íŠ¸ë¥¼ VSCodeì—ì„œ ì—½ë‹ˆë‹¤
2. `F5` í‚¤ë¥¼ ëˆŒëŸ¬ ë””ë²„ê·¸ ëª¨ë“œë¡œ ì‹¤í–‰
3. Extension Development Host ì°½ì—ì„œ Caret í™•ì¥ì„ í…ŒìŠ¤íŠ¸

### 3.4 í”„ë¡œë•ì…˜ ë¹Œë“œ ë° íŒ¨í‚¤ì§•

```bash
# í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run package

# VSIX íŒ¨í‚¤ì§€ ìƒì„± (Windows)
.\clean-build-package.ps1
```

ìƒì„±ëœ `.vsix` íŒŒì¼ì€ VSCodeì—ì„œ ì§ì ‘ ì„¤ì¹˜í•˜ê±°ë‚˜ ë°°í¬ì— ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## 4. Caret í™•ì¥ ê°œë°œ ê°€ì´ë“œ

### 4.1 ë°±ì—”ë“œ í™•ì¥ (`caret-src/`)

**ìƒˆë¡œìš´ Provider ì¶”ê°€:**

```typescript
// caret-src/core/providers/CaretCustomProvider.ts
import { WebviewProvider } from "../../src/core/webview/WebviewProvider"

export class CaretCustomProvider extends WebviewProvider {
	// Clineì˜ ê¸°ë³¸ ê¸°ëŠ¥ì„ í™•ì¥
	protected override async handleCustomMessage(message: any) {
		// Caret ì „ìš© ë¡œì§ êµ¬í˜„
		return super.handleCustomMessage(message)
	}
}
```

**Cline ì„œë¹„ìŠ¤ í™œìš©:**

```typescript
// caret-src/services/CaretApiService.ts
import { ApiHandler } from "../../src/api/index"
import { ClineApiConfiguration } from "../../src/shared/api"

export class CaretApiService {
	constructor(private clineApi: ApiHandler) {}

	async executeCaretSpecificTask() {
		// Clineì˜ API ê¸°ëŠ¥ì„ í™œìš©í•˜ë©´ì„œ Caret ê³ ìœ  ê¸°ëŠ¥ ì¶”ê°€
		return await this.clineApi.createApiHandler(config)
	}
}
```

### 4.2 í”„ë¡ íŠ¸ì—”ë“œ í™•ì¥ (`webview-ui/src/caret/`)

**ìƒˆë¡œìš´ Caret ì»´í¬ë„ŒíŠ¸ ì¶”ê°€:**

```typescript
// webview-ui/src/caret/components/CaretCustomComponent.tsx
import React from 'react'
import { VSCodeButton } from '@vscode/webview-ui-toolkit/react'
// Clineì˜ ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©
import { ChatMessage } from '../components/chat/ChatMessage'

export const CaretCustomComponent = () => {
    return (
        <div>
            {/* Caret ì „ìš© UI ë¡œì§ */}
            <VSCodeButton>Caret Action</VSCodeButton>
        </div>
    )
}
```

**ê¸°ì¡´ Cline ì»´í¬ë„ŒíŠ¸ì™€ í†µí•©:**

```typescript
// webview-ui/src/App.tsxì—ì„œ Caret ì»´í¬ë„ŒíŠ¸ í†µí•©
import { CaretCustomComponent } from "./caret/components/CaretCustomComponent"

// App ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ ì¡°ê±´ë¶€ ë Œë”ë§ìœ¼ë¡œ Caret ê¸°ëŠ¥ ì¶”ê°€
```

### 4.3 ìƒíƒœ ê´€ë¦¬ í™•ì¥

**ExtensionStateContext í™•ì¥:**

```typescript
// webview-ui/src/caret/context/CaretStateContext.tsx
import { createContext, useContext } from "react"
import { ExtensionStateContext } from "../context/ExtensionStateContext"

interface CaretState {
	// Caret ì „ìš© ìƒíƒœ ì •ì˜
	caretMode: "standard" | "advanced"
	customSettings: Record<string, any>
}

export const CaretStateContext = createContext<CaretState | null>(null)
```

## 5. ì—…ìŠ¤íŠ¸ë¦¼ ë™ê¸°í™” ë° ì¶©ëŒ í•´ê²°

### 5.1 Cline ìµœì‹  ë³€ê²½ì‚¬í•­ ë³‘í•©

```bash
# upstream remote ì¶”ê°€ (ìµœì´ˆ 1íšŒ)
git remote add upstream https://github.com/cline/cline.git

# upstream ìµœì‹  ë³€ê²½ì‚¬í•­ ê°€ì ¸ì˜¤ê¸°
git fetch upstream

# main ë¸Œëœì¹˜ë¡œ ë³‘í•©
git checkout main
git merge upstream/main
```

### 5.2 ì¶©ëŒ í•´ê²° ì „ëµ

1. **Cline íŒŒì¼ ì¶©ëŒ**: ì›ë³¸ ìœ ì§€ë¥¼ ìš°ì„ ìœ¼ë¡œ í•˜ë˜, Caret í˜¸í™˜ì„± ê²€í† 
2. **íŒ¨í‚¤ì§€ ì˜ì¡´ì„± ì¶©ëŒ**: Caret ìš”êµ¬ì‚¬í•­ê³¼ Cline ì—…ë°ì´íŠ¸ ê°„ ì¡°ìœ¨
3. **ë¹Œë“œ ì„¤ì • ì¶©ëŒ**: Fork íŠ¹ì„±ì„ ìœ ì§€í•˜ë©´ì„œ ì—…ìŠ¤íŠ¸ë¦¼ ê°œì„ ì‚¬í•­ ì ìš©

ìì„¸í•œ ë‚´ìš©ì€ [ì—…ìŠ¤íŠ¸ë¦¼ ë³‘í•© ê°€ì´ë“œ](../guides/upstream-merging.mdx)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

## 6. ì½”ë“œ í’ˆì§ˆ ë° í…ŒìŠ¤íŠ¸

### 6.1 ë¦°íŒ… ë° íƒ€ì… ê²€ì‚¬

```bash
npm run lint        # ESLint ê²€ì‚¬
npm run type-check  # TypeScript íƒ€ì… ê²€ì‚¬
npm run format      # Prettier ì½”ë“œ í¬ë§¤íŒ…
```

### 6.2 í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë° í’ˆì§ˆ ê´€ë¦¬

Caretì€ **100% í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€**ë¥¼ ëª©í‘œë¡œ í•˜ëŠ” í’ˆì§ˆ ìš°ì„  ê°œë°œì„ ì§€í–¥í•©ë‹ˆë‹¤.

```bash
# ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm test

# í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ì¸
npm run test:coverage

# í…ŒìŠ¤íŠ¸ watch ëª¨ë“œ (ê°œë°œ ì‹œ)
npm run test:watch

# Caret ì „ìš© ì½”ë“œ ì»¤ë²„ë¦¬ì§€ ë¶„ì„
node caret-scripts/caret-coverage-check.js
```

### 6.3 í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ ë° í‘œì¤€

-   **[ì¢…í•© í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ](./testing-guide.mdx)**: í…ŒìŠ¤íŠ¸ ì „ëµ, ì‹¤í–‰ ë°©ë²•, ì»¤ë²„ë¦¬ì§€ ë¶„ì„
-   **[í…ŒìŠ¤íŠ¸ ì‘ì„± í‘œì¤€](./test-writing-standards.mdx)**: í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± ê·œì¹™ê³¼ í‘œì¤€
-   **[TDD ê°€ì´ë“œ](./tdd-guide.mdx)**: í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ ë°©ë²•ë¡ ê³¼ ì‹¤ì „ ì ìš©ë²•

### 6.4 í…ŒìŠ¤íŠ¸ ì›ì¹™

-   **Caret ì „ìš© ì½”ë“œ**: `caret-src/`, `webview-ui/src/caret/` ë””ë ‰í† ë¦¬ì˜ ëª¨ë“  ì½”ë“œëŠ” 100% ì»¤ë²„ë¦¬ì§€ ëª©í‘œ
-   **TDD ë°©ì‹**: Red-Green-Refactor ì‚¬ì´í´ì„ ë”°ë¥¸ í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ
-   **í’ˆì§ˆ ìš°ì„ **: í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ ì½”ë“œ ë³€ê²½ ê¸ˆì§€, ê·¼ë³¸ ì›ì¸ í•´ê²° ì›ì¹™

### 6.5 ê°œë°œ ì‹œ ì£¼ì˜ì‚¬í•­

-   **Cline ì½”ë“œ ìˆ˜ì • ê¸ˆì§€**: `src/`, `webview-ui/` ì›ë³¸ íŒŒì¼ ì§ì ‘ ìˆ˜ì • ì§€ì–‘
-   **íƒ€ì… ì•ˆì „ì„±**: Cline íƒ€ì…ê³¼ì˜ í˜¸í™˜ì„± ìœ ì§€
-   **ì„±ëŠ¥ ê³ ë ¤**: Cline ê¸°ë³¸ ì„±ëŠ¥ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šë„ë¡ ìµœì í™”
-   **ë¬¸ì„œ ë™ê¸°í™”**: ë³€ê²½ì‚¬í•­ ë°œìƒ ì‹œ ê´€ë ¨ ë¬¸ì„œ ì—…ë°ì´íŠ¸

## 7. ë¬¸ì„œí™” ë° ê¸°ì—¬

### 7.1 ë¬¸ì„œ ê´€ë¦¬

-   ëª¨ë“  ë¬¸ì„œëŠ” MDX í˜•ì‹ìœ¼ë¡œ ì‘ì„±
-   `caret-docs/` ë””ë ‰í† ë¦¬ì—ì„œ ì²´ê³„ì  ê´€ë¦¬
-   ì½”ë“œ ë³€ê²½ ì‹œ ê´€ë ¨ ë¬¸ì„œ í•„ìˆ˜ ì—…ë°ì´íŠ¸

### 7.2 ê¸°ì—¬ ê°€ì´ë“œë¼ì¸

-   Fork ê¸°ë°˜ ì•„í‚¤í…ì²˜ ì›ì¹™ ì¤€ìˆ˜
-   ì½”ë“œ ë¦¬ë·° ì‹œ Cline í˜¸í™˜ì„± ê²€í† 
-   ì—…ìŠ¤íŠ¸ë¦¼ ë™ê¸°í™” ê³ ë ¤í•œ ì„¤ê³„

## 8. ì°¸ê³  ë¬¸ì„œ

### 8.1 ì•„í‚¤í…ì²˜ ë° ê°œë°œ

-   [Caret Fork ê¸°ë°˜ ì•„í‚¤í…ì²˜ ê°€ì´ë“œ](./caret-architecture-and-implementation-guide.mdx)
-   [ì—…ìŠ¤íŠ¸ë¦¼ ë³‘í•© ê°€ì´ë“œ](../guides/upstream-merging.mdx)
-   [ë¬¸ì„œ ì‘ì„± ê°€ì´ë“œ](./documentation-guide.mdx)
-   [AI ì‘ì—… ë°©ë²•ë¡  ê°€ì´ë“œ](../guides/ai-work-method-guide.mdx)
-   [ë§í¬ ê´€ë¦¬ ì‹œìŠ¤í…œ ê°€ì´ë“œ](./link-management-guide.mdx)
-   [ë‹¤êµ­ì–´ ì§€ì› ê°€ì´ë“œ](./locale.mdx)

### 8.2 í…ŒìŠ¤íŠ¸ ë° í’ˆì§ˆ ê´€ë¦¬

-   [ì¢…í•© í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ](./testing-guide.mdx)
-   [í…ŒìŠ¤íŠ¸ ì‘ì„± í‘œì¤€](./test-writing-standards.mdx)
-   [TDD ê°€ì´ë“œ](./tdd-guide.mdx)

## ğŸ—ï¸ **ì•„í‚¤í…ì²˜ ë° ì„¤ê³„**

-   **[ğŸ›ï¸ Caret ì•„í‚¤í…ì²˜ ê°€ì´ë“œ](./caret-architecture-and-implementation-guide.mdx)**: Fork ê¸°ë°˜ ì•„í‚¤í…ì²˜ ê°œìš”
-   **[ğŸ”§ í™•ì¥ ì•„í‚¤í…ì²˜](./extension-architecture.mmd)**: VSCode í™•ì¥ êµ¬ì¡° ë‹¤ì´ì–´ê·¸ë¨
-   **[ğŸ§© ì»´í¬ë„ŒíŠ¸ ì•„í‚¤í…ì²˜ ì›ì¹™](./component-architecture-principles.mdx)**: UI ì»´í¬ë„ŒíŠ¸ ê°œë°œ ì›ì¹™ ë° ê°€ì´ë“œë¼ì¸

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025ë…„ 1ì›” - Fork ê¸°ë°˜ ì•„í‚¤í…ì²˜ ì „í™˜ì— ë”°ë¥¸ ê°œë°œ ê°€ì´ë“œ ì „ë©´ ê°œí¸
