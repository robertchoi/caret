# Caret ì»´í¬ë„ŒíŠ¸ ì•„í‚¤í…ì²˜ ì›ì¹™

## ğŸ“‹ **ê°œìš”**

Caret í”„ë¡œì íŠ¸ì—ì„œ UI ì»´í¬ë„ŒíŠ¸ë¥¼ ê°œë°œí•  ë•Œ ì¤€ìˆ˜í•´ì•¼ í•  ì•„í‚¤í…ì²˜ ì›ì¹™ì„ ì •ì˜í•©ë‹ˆë‹¤. ì´ ì›ì¹™ë“¤ì€ Cline ì›ë³¸ ì½”ë“œì™€ì˜ í˜¸í™˜ì„±ì„ ìœ ì§€í•˜ë©´ì„œë„ Caret ê³ ìœ ì˜ ê¸°ëŠ¥ì„ íš¨ê³¼ì ìœ¼ë¡œ êµ¬í˜„í•˜ê¸° ìœ„í•´ ìˆ˜ë¦½ë˜ì—ˆìŠµë‹ˆë‹¤.

## ğŸ¯ **í•µì‹¬ ì›ì¹™**

### **1. ì›ë³¸ êµ¬ì¡° ìœ ì§€ (Structure Preservation)**

**ì›ì¹™**: Cline ì›ë³¸ ì»´í¬ë„ŒíŠ¸ì˜ êµ¬ì¡°ì™€ íŒ¨í„´ì„ ìµœëŒ€í•œ ìœ ì§€í•©ë‹ˆë‹¤.

```typescript
// âŒ ì˜ëª»ëœ ì˜ˆ: í•˜ë“œì½”ë”©ëœ êµ¬ì¡°
const CaretWelcome = () => {
  return (
    <div style={{ padding: "20px", border: "1px solid red" }}>
      <h2>í•˜ë“œì½”ë”©ëœ ì œëª©</h2>
      <p>í•˜ë“œì½”ë”©ëœ ë‚´ìš©</p>
    </div>
  )
}

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆ: ì›ë³¸ êµ¬ì¡° ìœ ì§€
const CaretWelcome = () => {
  const renderSection = (headerKey: string, bodyKey: string, buttonConfig?: ButtonConfig) => (
    <div style={{
      marginBottom: "25px",
      padding: "20px",
      border: "1px solid var(--vscode-settings-headerBorder)",
      borderRadius: "8px"
    }}>
      <h3>{t(headerKey, 'welcome')}</h3>
      <p>{t(bodyKey, 'welcome')}</p>
      {buttonConfig && renderButton(buttonConfig)}
    </div>
  )

  return (
    <div className="caret-welcome">
      {renderSection('coreFeatures.header', 'coreFeatures.description')}
      {renderSection('apiSetup.header', 'apiSetup.description', {
        text: 'apiSetup.button',
        handler: handleApiSetup
      })}
    </div>
  )
}
```

### **2. ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ (Component Separation)**

**ì›ì¹™**: ê¸°ëŠ¥ë³„ë¡œ ëª…í™•í•˜ê²Œ ë¶„ë¦¬ëœ ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

```typescript
// âœ… ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ ì˜ˆì‹œ
// components/caret/CaretWelcomeSection.tsx
interface CaretWelcomeSectionProps {
  headerKey: string
  bodyKey: string
  buttonConfig?: ButtonConfig
  className?: string
}

const CaretWelcomeSection: React.FC<CaretWelcomeSectionProps> = ({
  headerKey, bodyKey, buttonConfig, className
}) => {
  return (
    <div className={`caret-welcome-section ${className || ''}`}>
      <h3>{t(headerKey, 'welcome')}</h3>
      <p>{t(bodyKey, 'welcome')}</p>
      {buttonConfig && <CaretButton {...buttonConfig} />}
    </div>
  )
}

// components/caret/CaretApiSetup.tsx
const CaretApiSetup: React.FC<CaretApiSetupProps> = ({ onConfigSave }) => {
  return (
    <div className="caret-api-setup">
      <CaretWelcomeSection
        headerKey="apiSetup.title"
        bodyKey="apiSetup.description"
      />
      <ApiOptions showModelOptions={true} />
      <CaretButton onClick={onConfigSave} appearance="primary">
        {t('apiSetup.saveButton', 'welcome')}
      </CaretButton>
    </div>
  )
}
```

### **3. ìƒíƒœ ê´€ë¦¬ íŒ¨í„´ (State Management Pattern)**

**ì›ì¹™**: Cline ì›ë³¸ì˜ ìƒíƒœ ê´€ë¦¬ íŒ¨í„´ì„ ë”°ë¦…ë‹ˆë‹¤.

```typescript
// âœ… ì˜¬ë°”ë¥¸ ìƒíƒœ ê´€ë¦¬
const CaretWelcome = () => {
  const { apiConfiguration, caretBanner } = useExtensionState()
  const [showApiOptions, setShowApiOptions] = useState(false)
  const [apiErrorMessage, setApiErrorMessage] = useState<string | undefined>(undefined)

  // Cline íŒ¨í„´ê³¼ ë™ì¼í•œ validation ë¡œì§
  useEffect(() => {
    setApiErrorMessage(validateApiConfiguration(apiConfiguration))
  }, [apiConfiguration])

  // ìƒíƒœ ê¸°ë°˜ ì¡°ê±´ë¶€ ë Œë”ë§
  if (showApiOptions) {
    return <CaretApiSetup onBack={() => setShowApiOptions(false)} />
  }

  return <CaretWelcomeContent onShowApiOptions={() => setShowApiOptions(true)} />
}
```

### **4. ìŠ¤íƒ€ì¼ë§ ì¼ê´€ì„± (Styling Consistency)**

**ì›ì¹™**: VSCode í…Œë§ˆ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê³  ì¼ê´€ëœ ìŠ¤íƒ€ì¼ë§ íŒ¨í„´ì„ ìœ ì§€í•©ë‹ˆë‹¤.

```typescript
// âœ… ì˜¬ë°”ë¥¸ ìŠ¤íƒ€ì¼ë§
const sectionStyle = {
	marginBottom: "25px",
	padding: "20px",
	border: "1px solid var(--vscode-settings-headerBorder)",
	borderRadius: "8px",
	backgroundColor: "var(--vscode-sideBar-background)",
}

// CSS ë³€ìˆ˜ í™œìš©
const CARET_THEME = {
	section: {
		border: "var(--vscode-settings-headerBorder)",
		background: "var(--vscode-sideBar-background)",
		text: "var(--vscode-editor-foreground)",
		description: "var(--vscode-descriptionForeground)",
	},
}
```

### **5. i18n í†µí•© (Internationalization Integration)**

**ì›ì¹™**: ëª¨ë“  í…ìŠ¤íŠ¸ëŠ” i18n ì‹œìŠ¤í…œì„ í†µí•´ ê´€ë¦¬í•©ë‹ˆë‹¤.

```typescript
// âœ… ì˜¬ë°”ë¥¸ i18n ì‚¬ìš©
const CaretWelcomeHeader = () => {
  return (
    <div className="caret-welcome-header">
      <h2>{t('greeting', 'welcome')}</h2>
      <p>{t('catchPhrase', 'welcome')}</p>
      <img
        src={caretBanner}
        alt={t('bannerAlt', 'welcome')}
        className="caret-banner-image"
      />
    </div>
  )
}
```

## ğŸ”§ **êµ¬í˜„ ê°€ì´ë“œë¼ì¸**

### **ì»´í¬ë„ŒíŠ¸ íŒŒì¼ êµ¬ì¡°**

```
webview-ui/src/caret/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ CaretWelcome.tsx         # ë©”ì¸ ì›°ì»´ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ CaretWelcomeSection.tsx  # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì„¹ì…˜
â”‚   â”œâ”€â”€ CaretApiSetup.tsx        # API ì„¤ì • ì „ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ CaretButton.tsx          # ê³µí†µ ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ CaretFooter.tsx          # í‘¸í„° ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useCaretWelcome.ts       # ì›°ì»´ ê´€ë ¨ ë¡œì§ í›…
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ welcomeHelpers.ts        # í—¬í¼ í•¨ìˆ˜ë“¤
â””â”€â”€ styles/
    â””â”€â”€ CaretWelcome.css         # ìŠ¤íƒ€ì¼ ì •ì˜
```

### **í”„ë¡œí¼í‹° ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„**

```typescript
interface CaretWelcomeProps {
	onGetStarted?: () => void
	initialView?: "welcome" | "apiSetup"
	theme?: "light" | "dark" | "auto"
}

interface CaretSectionProps {
	headerKey: string
	bodyKey: string
	buttonConfig?: {
		textKey: string
		handler: () => void
		appearance?: "primary" | "secondary"
		disabled?: boolean
	}
	className?: string
	children?: React.ReactNode
}
```

## ğŸš¨ **ì•ˆí‹°íŒ¨í„´ (Anti-patterns)**

### **âŒ í•˜ë“œì½”ë”©ëœ êµ¬ì¡°**

```typescript
// í”¼í•´ì•¼ í•  íŒ¨í„´
const BadComponent = () => (
  <div style={{ padding: "20px", border: "1px solid red" }}>
    <h2>í•˜ë“œì½”ë”©ëœ ì œëª©</h2>
    <p>í•˜ë“œì½”ë”©ëœ ì„¤ëª…</p>
    <button onClick={() => alert("í´ë¦­!")}>ë²„íŠ¼</button>
  </div>
)
```

### **âŒ ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ë‚¨ìš©**

```typescript
// í”¼í•´ì•¼ í•  íŒ¨í„´
const BadStyling = () => (
  <div style={{
    backgroundColor: "#1e1e1e",
    color: "#ffffff",
    padding: "15px",
    marginBottom: "10px"
  }}>
    ë‚´ìš©
  </div>
)
```

### **âŒ ë²ˆì—­ ì—†ëŠ” í…ìŠ¤íŠ¸**

```typescript
// í”¼í•´ì•¼ í•  íŒ¨í„´
const BadI18n = () => (
  <div>
    <h2>Caret ì„¤ì •</h2>
    <p>API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
  </div>
)
```

## ğŸ“‹ **ì²´í¬ë¦¬ìŠ¤íŠ¸**

ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ ê°œë°œ ì‹œ ë‹¤ìŒ ì‚¬í•­ë“¤ì„ í™•ì¸í•˜ì„¸ìš”:

-   [ ] ì›ë³¸ Cline ì»´í¬ë„ŒíŠ¸ êµ¬ì¡° ë¶„ì„ ì™„ë£Œ
-   [ ] ê¸°ëŠ¥ë³„ ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ ì„¤ê³„ ì™„ë£Œ
-   [ ] VSCode í…Œë§ˆ ë³€ìˆ˜ ì‚¬ìš©
-   [ ] ëª¨ë“  í…ìŠ¤íŠ¸ i18n ì ìš©
-   [ ] ìƒíƒœ ê´€ë¦¬ íŒ¨í„´ ì¼ê´€ì„± í™•ë³´
-   [ ] ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ ì„¤ê³„
-   [ ] íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì¸í„°í˜ì´ìŠ¤ ì •ì˜
-   [ ] í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
-   [ ] ë¬¸ì„œí™” ì™„ë£Œ

## ğŸ”— **ê´€ë ¨ ë¬¸ì„œ**

-   [Caret ì•„í‚¤í…ì²˜ ê°€ì´ë“œ](./caret-architecture-and-implementation-guide.mdx)
-   [í…ŒìŠ¤íŠ¸ ì‘ì„± ê°€ì´ë“œ](./test-writing-standards.mdx)
-   [i18n ê°œë°œ ê°€ì´ë“œ](./locale.mdx)
