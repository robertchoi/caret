# .caretrules 파일 가이드

`.caretrules` 파일은 Caret AI 에이전트가 현재 프로젝트의 구조, 개발 프로세스, 주요 파일 등을 이해하는 데 도움을 주는 핵심 설정 파일입니다. 이 파일은 JSON 형식으로 작성되며, 토큰 효율성을 위해 간결하게 구성됩니다. 가독성을 위해 동일한 내용의 마크다운 버전(`.caretrules.md`)도 함께 관리됩니다.

## 파일 구조

`.caretrules` 파일은 다음과 같은 주요 섹션으로 구성됩니다:

1.  **`project_overview`**: 프로젝트의 기본적인 정보 (이름, 설명, 저장소 URL)를 담습니다.
2.  **`architecture`**: 프로젝트의 아키텍처 요약, 주요 컴포넌트(경로, 진입점, 설명 포함), 관련 아키텍처 다이어그램 참조 등을 포함합니다.
3.  **`development_process`**: 개발 워크플로우와 관련된 주요 가이드라인을 정의합니다.
    *   `state_management_guideline`: 상태 관리 원칙
    *   `tool_integration`: 도구 통합 가이드 및 `.caretignore` 규칙 존중 명시
    *   `api_providers`: API 프로바이더 구현 위치
    *   `testing`: 테스트 계획 문서 참조
    *   `logging`: 로깅 시스템 사용 가이드 참조
    *   `checkpoints`: 체크포인트 시스템 정보
    *   `documentation`: 문서 업데이트 관련 지침
    *   `contributing`: 기여 가이드라인 참조 (`CONTRIBUTING.md`)
    *   `work_logs`: 작업 로그 위치, 형식, 목적 정의
    *   `git_rules`: Git 커밋 형식 및 브랜치 전략 정의
4.  **`key_files_reference`**: AI 에이전트가 자주 참조해야 할 주요 파일 및 폴더 목록을 제공합니다.

## 동작 방식

-   **JSON 형식**: 실제 AI 에이전트가 시스템 프롬프트에 포함하여 사용하는 파일은 JSON 형식의 `.caretrules` 입니다. 이는 토큰 사용량을 최소화하기 위함입니다.
-   **마크다운 버전 (`.caretrules.md`)**: JSON 파일과 동일한 내용을 담고 있으며, 사람이 쉽게 읽고 이해할 수 있도록 마크다운 형식으로 작성됩니다. 이 파일은 AI가 직접 사용하지는 않지만, 개발자가 규칙을 확인하고 관리하는 데 사용됩니다.
-   **동기화**: `.caretrules` (JSON) 파일과 `.caretrules.md` 파일의 내용은 항상 일치해야 합니다. 규칙 변경 시 두 파일 모두 업데이트하는 것이 중요합니다. (향후 자동 동기화 또는 검증 메커니즘 도입 고려)
-   **참조 중심**: `.caretrules` 파일은 모든 세부 정보를 담기보다는, 관련 상세 정보가 담긴 다른 문서(예: `CONTRIBUTING.md`, 아키텍처 다이어그램, 테스트 계획 등)를 참조하는 방식으로 구성됩니다. 이를 통해 `.caretrules` 파일 자체는 간결하게 유지하면서 필요한 정보에 접근할 수 있도록 합니다.

## 관리 및 수정

-   `.caretrules` 파일 수정은 **RULE 모드**에서 AI 에이전트와 협력하여 진행하는 것을 권장합니다.
-   JSON 형식의 구조를 유지하면서 내용을 업데이트해야 합니다.
-   수정 후에는 반드시 `.caretrules.md` 파일도 동일하게 업데이트하여 일관성을 유지해야 합니다.
