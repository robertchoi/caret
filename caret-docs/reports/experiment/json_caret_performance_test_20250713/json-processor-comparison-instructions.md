# 작업 지시서

**목표:** 이 지시서에 따라 본 폴더의 하위 폴더로 ./json-processor/{AI에이전트명} 폴더를 만들고 지정된 프로젝트 구조와 파일을 정확히 생성합니다. 해당 폴더에서 작업을 시작합니다.
          5단계 최종 검증 보고서는 ./json-processor/{AI에이전트명}-report.md 파일에 기록합니다.


**1단계: 요구사항 명세서 작성**

*   **요청:** "JSON 데이터 처리 시스템을 만들기 위한 요구사항 명세서를 **작업 폴더(./json-processor/{AI에이전트명}) 내에** `json-processor-spec.md` 파일로 작성해주세요. 시스템은 다음 기능들을 포함해야 합니다:
    - **데이터 변환**: 
      * 중첩 JSON 평면화 (예: `{user: {profile: {name: "John"}}}` → `{"user.profile.name": "John"}`)
      * 배열 데이터 그룹화 (예: 사용자 목록을 부서별/지역별로 그룹핑)
    - **필터링 및 검색**: 복잡한 조건을 통한 데이터 필터링 (AND/OR 조건, 정규식 지원)
    - **집계 및 통계**: 숫자형 데이터의 합계, 평균, 최대/최소값, 빈도 분석
    - **정렬 및 정제**: 다중 필드 정렬, 중복 제거, 데이터 유효성 검증
    - **파일 입출력**: JSON, CSV 형식 지원
    명세서에는 **테스트해야 할 핵심 로직**들과 성능 요구사항이 포함되어야 합니다."
*   **결과물:** 작업 폴더 내 `json-processor-spec.md` 파일 생성.

**2단계: 명세서 기반 TDD 코드 구현**

*   **요청:** (1단계 완료 후) "방금 작성한 `json-processor-spec.md` 파일의 요구사항에 따라 **테스트 주도 개발(TDD) 방식**으로 JSON 데이터 처리 시스템을 **작업 폴더 내에서** 구현해주세요.
    1.  먼저 각 핵심 기능(데이터 변환, 필터링, 집계, 정렬)에 대한 **테스트 코드를 작성**해주세요. (Node.js + Jest 또는 순수 JavaScript 사용)
    2.  작성한 테스트를 통과하도록 **실제 데이터 처리 로직을 구현**해주세요.
    3.  CLI(Command Line Interface) 인터페이스를 구현하여 명령줄에서 실행 가능하도록 해주세요.
    4.  샘플 JSON 데이터 파일을 생성하여 실제 동작을 검증할 수 있도록 해주세요."
*   **적정 기술 스펙**: Node.js + 표준 라이브러리 위주 (외부 의존성 최소화), CLI 실행 가능, JSON/CSV 파일 처리
*   **결과물:** 작업 폴더 내 처리 시스템 관련 파일들(예: `processor.js`, `cli.js`, `utils.js`)과 테스트 코드 파일들(예: `processor.test.js`, `utils.test.js`), 샘플 데이터 파일들 생성.

**3단계: 프로젝트 보고서 작성**

*   **요청:** (2단계 완료 후) "지금까지 생성한 JSON 데이터 처리 시스템 프로젝트(요구사항 명세서, 소스 코드, 테스트 코드 포함)에 대한 **프로젝트 보고서를 작업 폴더 내에 `project-report.md` 파일로 작성**해주세요. 보고서에는 프로젝트 개요, 구현된 기능 목록, 사용된 기술 스택, 프로젝트 구조 설명, TDD 접근 방식 요약, 성능 테스트 결과 등이 포함되어야 합니다."
*   **결과물:** 작업 폴더 내 `project-report.md` 파일 생성.

**4단계 : 검증 및 보완**

1.  생성된 `json-processor-spec.md` 파일의 내용 확인.
2.  생성된 테스트 코드가 각 핵심 로직을 검증하는지 확인.
3.  생성된 JSON 처리 시스템의 **핵심 로직 동작 확인** 및 **테스트 코드 통과 여부 확인**. 통과하지 못하면 추가 수정을 진행합니다.
    - **현실적 테스트 수준**: 복잡한 데이터 변환 로직, 다중 조건 필터링, 성능 임계값 검증에 집중
    - **CLI 실행 확인**: 명령줄에서 샘플 데이터로 실제 실행 및 결과 확인
4.  생성된 `project-report.md` 파일의 내용이 프로젝트를 잘 요약하고 있는지 확인하고 추가 수정을 진행하였을 경우 진행한 내용을 기록합니다.

**주의:** `replace_in_file` 도구 사용 시 3번 이상 실패하면 `write_to_file` 도구를 사용하여 전체 파일을 다시 작성하세요.

**5단계: 최종 성능 보고서 생성**

*   **요청:** "1단계부터 4단계까지의 모든 작업이 완료되면, 다음 Node.js 스크립트를 실행하여 최종 성능 보고서를 생성해주세요. `{AI에이전트명}` 부분은 실제 사용한 에이전트의 이름으로 변경해야 합니다."
*   **스크립트 실행 명령어:**
    ```bash
    node ./generate-report.js json-processor {AI에이전트명}
    ```
*   **결과물:** `json-processor/{AI에이전트명}-{yyyymmdd}-report.md` 파일이 생성됩니다. 이 파일에는 전체 작업 과정의 API 토큰 사용량, 비용, 호출 횟수, 실행 시간 등의 성능 데이터가 기록됩니다.
